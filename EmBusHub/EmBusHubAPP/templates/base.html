{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emmaskill Hub for Electronics | Homepage</title>
    <script src="https://unpkg.com/@tailwindcss/browser@4"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Big+Shoulders:opsz,wght@10..72,100..900&family=Inter+Tight:ital,wght@0,100..900;1,100..900&family=Manrope:wght@200..800&family=Plus+Jakarta+Sans:ital,wght@0,200..800;1,200..800&family=Space+Grotesk:wght@300..700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
        integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
</head>

<body id="body" class="bg-white text-black transition-colors duration-300">

    <!-- Header -->
    <header class="px-6 md:px-10 lg:px-24 py-5 font-['space_grotesk'] transition-colors duration-300 shadow-sm">
        <div class="container mx-auto flex items-center justify-between">
            <div class="link">
                <a href="index.html" class="font-['space_grotesk']">
                    <img id="logo" src="assets/images/logoo.png" alt="Emmaskill Hub for Electronics"
                        class="w-16 md:w-20">
                </a>
            </div>

            <!-- Desktop Navigation -->
            <ul id="nav-links" class="hidden md:flex items-center gap-6 lg:gap-10 font-['space_grotesk']">
                <li><a href="{% url 'home' %}" class="nav-link">Home</a></li>
                <li><a href="{% url 'product' %}" class="nav-link">Shop Now</a></li>
                <li><a href="{% url 'home' %}" class="nav-link">Contact Us</a></li>
            </ul>

            <!-- Buttons & Dark Mode Toggle -->
            <div class="flex items-center gap-3 md:gap-5 font-['space_grotesk']">
                <!-- Dark Mode Toggle (Always Visible) -->
                <button id="mode" class="toggle-btn">
                    <i id="mode-icon" class="fa-solid fa-sun text-2xl"></i>
                </button>

                <!-- Help & Sign Up (Only Visible on Desktop) -->
                <!-- <a id="help-btn" href=""
                    class="hidden md:block btn outline outline-black dark:outline-white text-black dark:text-white rounded-sm px-5 py-2 md:px-7 md:py-2.5">Help</a> -->
                {% if user.is_authenticated %}
                <a id="signup-btn" href="{% url 'logout' %}"
                    class="hidden md:block btn bg-black text-white rounded-sm px-5 py-2 md:px-7 md:py-2.5 dark:bg-white dark:text-black dark:outline dark:outline-white">Logout</a>
                {% else %}
                <a id="signup-btn" href="{% url 'register' %}"
                    class="hidden md:block btn bg-black text-white rounded-sm px-5 py-2 md:px-7 md:py-2.5 dark:bg-white dark:text-black dark:outline dark:outline-white">Sign
                    Up</a>

                {% endif %}
            </div>

            <!-- Mobile Menu Button -->
            <button id="menu-btn" class="md:hidden text-2xl font-['space_grotesk']">
                <i class="fa-solid fa-bars"></i>
            </button>
        </div>
    </header>

    <!-- Mobile Menu (Updated for High Z-Index) -->
    <div id="mobile-menu"
        class="fixed inset-0 bg-white text-black hidden flex flex-col items-center justify-center space-y-6 text-xl md:hidden transition-all duration-300 transform translate-y-full dark:bg-black dark:text-white font-['space_grotesk'] z-[9999]">
        <button id="close-menu" class="absolute top-5 right-5 text-2xl">
            <i class="fa-solid fa-times"></i>
        </button>

        <a href="index.html" class="mobile-link">Home</a>
        <a href="shop.html" class="mobile-link">Shop Now</a>
        <a href="contact.html" class="mobile-link">Contact Us</a>

        <!-- Mobile Help & Sign Up Buttons -->
        <button id="mobile-help-btn"
            class="btn outline outline-black dark:outline-white text-black dark:text-white rounded-sm px-5 py-2">Help</button>
        <button id="mobile-signup-btn"
            class="btn bg-black text-white rounded-sm px-5 py-2 dark:bg-white dark:text-black dark:outline dark:outline-white">Sign
            Up</button>
    </div>

    {% block content %}

    {% endblock %}

    <!-- Footer (Black) -->
    <footer class="bg-black text-white py-10 font-['inter_tight']">
        <div class="container mx-auto flex flex-col md:flex-row justify-between items-center">
            <p class="text-gray-400">&copy; 2025 <a href="index copy.html">Emmaskill Hub for Electronics</a>. All rights
                reserved.</p>
            <nav class="flex gap-6 text-gray-400 text-sm my-3">
                <a href="#" class="hover:text-white">Shop Now</a>
                <!-- <a href="#" class="hover:text-white">About Us</a> -->
                <a href="#" class="hover:text-white">Contact Us</a>
                <a href="#" class="hover:text-white">FAQ</a>
                <a href="#" class="hover:text-white">Blog</a>
            </nav>
            <div class="flex gap-4">
                <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-facebook"></i></a>
                <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-instagram"></i></a>
                <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-x-twitter"></i></a>
                <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-linkedin"></i></a>
                <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-youtube"></i></a>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const modeBtn = document.getElementById("mode");
            const modeIcon = document.getElementById("mode-icon");
            const body = document.getElementById("body");
            const logo = document.getElementById("logo");
            const navLinks = document.querySelectorAll(".nav-link");
            const mobileLinks = document.querySelectorAll(".mobile-link");
            const buttons = document.querySelectorAll(".btn");
            const sectionHeading = document.getElementById("section-heading"); // Target heading

            const menuBtn = document.getElementById("menu-btn");
            const mobileMenu = document.getElementById("mobile-menu");
            const closeMenuBtn = document.getElementById("close-menu");

            const lightLogo = "{% static 'images/logoo.png' %}";
            const darkLogo = "{% static 'images/whites.png' %}";

            function applyTheme(theme) {
                if (theme === "dark") {
                    body.style.backgroundColor = "black";
                    body.style.color = "white";
                    modeIcon.classList.replace("fa-sun", "fa-moon");
                    logo.src = darkLogo;

                    // Update navigation & mobile menu links
                    navLinks.forEach(link => link.style.color = "white");
                    mobileLinks.forEach(link => link.style.color = "white");

                    // Update button styles
                    buttons.forEach(button => {
                        button.style.backgroundColor = "white";
                        button.style.color = "black";
                        button.style.border = "1px solid white";
                    });

                    // Mobile menu background
                    mobileMenu.style.backgroundColor = "black";
                    mobileMenu.style.color = "white";

                    // ✅ Fix the Section Heading
                    if (sectionHeading) {
                        sectionHeading.style.color = "white"; // Set white in dark mode
                    }

                } else {
                    body.style.backgroundColor = "white";
                    body.style.color = "black";
                    modeIcon.classList.replace("fa-moon", "fa-sun");
                    logo.src = lightLogo;

                    // Reset navigation & mobile menu links
                    navLinks.forEach(link => link.style.color = "black");
                    mobileLinks.forEach(link => link.style.color = "black");

                    // Reset button styles
                    buttons.forEach(button => {
                        button.style.backgroundColor = "black";
                        button.style.color = "white";
                        button.style.border = "1px solid black";
                    });

                    // Reset mobile menu background
                    mobileMenu.style.backgroundColor = "white";
                    mobileMenu.style.color = "black";

                    // ✅ Fix the Section Heading
                    if (sectionHeading) {
                        sectionHeading.style.color = "black"; // Set black in light mode
                    }
                }
            }

            // Get saved theme or default to light
            const savedTheme = localStorage.getItem("theme") || "light";
            applyTheme(savedTheme);

            // Toggle Dark Mode
            modeBtn.addEventListener("click", () => {
                const newTheme = body.style.backgroundColor === "black" ? "light" : "dark";
                localStorage.setItem("theme", newTheme);
                applyTheme(newTheme);
            });

            // **Fixed Mobile Menu Toggle**
            menuBtn.addEventListener("click", () => {
                mobileMenu.classList.toggle("hidden"); // Show/hide menu
                mobileMenu.classList.toggle("translate-y-full"); // Animate menu slide-in
            });

            closeMenuBtn.addEventListener("click", () => {
                mobileMenu.classList.add("hidden"); // Hide menu
                mobileMenu.classList.add("translate-y-full"); // Reset animation
            });
        });

    </script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init();
    </script>
</body>

</html>